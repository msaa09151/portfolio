<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>네모네모 로직 (10x10)</title>
<style>
  body {
    background: black;
    color: white;
    font-family: sans-serif;
    text-align: center;
  }
  table {
    border-collapse: collapse;
    margin: 20px auto;
  }
  td {
    width: 30px;
    height: 30px;
    border: 1px solid white;
    text-align: center;
    vertical-align: middle;
    font-weight: bold;
    font-size: 18px;
    cursor: pointer;
  }
  .filled {
    background: white;
    color: black;
  }
  .cross {
    color: red;
  }
  .hint {
    border: none;
    background: black;
    color: white;
    cursor: default;
    font-size: 14px;
  }
  .toolbar {
    margin: 15px;
  }
</style>
</head>
<body>
  <h1>네모네모 로직 (10×10)</h1>
  <div class="toolbar">
    <button onclick="checkAnswer()">정답 확인</button>
    <button onclick="newGame()">새 게임</button>
    <p id="status">상태: 준비</p>
  </div>
  <table id="board"></table>

<script>
const size = 10;

// 예시 퍼즐 (정답 그림)
// 1 = 채움, 0 = 빈칸
let solutions = [
  [
    [0,0,1,1,1,0,0,0,0,0],
    [0,0,1,0,1,0,0,0,0,0],
    [0,0,1,1,1,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,0,1,0,0,0,0,0,0],
    [0,0,1,1,1,0,0,0,0,0],
  ],
  [
    [1,1,0,0,0,0,0,1,1,0],
    [1,0,1,0,0,0,1,0,1,0],
    [1,0,0,1,0,1,0,0,1,0],
    [1,0,0,0,1,0,0,0,1,0],
    [1,0,0,0,0,0,0,0,1,0],
    [1,0,0,0,0,0,0,0,1,0],
    [1,0,0,0,0,0,0,0,1,0],
    [1,0,0,0,1,0,0,0,1,0],
    [1,0,0,1,0,1,0,0,1,0],
    [1,0,1,0,0,0,1,0,1,0],
  ]
];

let solution;
let board = [];

// 보드 생성
function buildBoard() {
  const table = document.getElementById("board");
  table.innerHTML = "";

  for (let r = 0; r < size; r++) {
    const tr = document.createElement("tr");
    board[r] = [];
    for (let c = 0; c < size; c++) {
      const td = document.createElement("td");
      td.dataset.row = r;
      td.dataset.col = c;
      td.addEventListener("click", toggleCell);
      board[r][c] = 0;
      tr.appendChild(td);
    }
    table.appendChild(tr);
  }
}

// 셀 클릭 (빈칸 → 채움 → X → 빈칸)
function toggleCell(e) {
  const td = e.target;
  const r = td.dataset.row;
  const c = td.dataset.col;

  board[r][c] = (board[r][c] + 1) % 3;

  td.className = "";
  td.textContent = "";

  if (board[r][c] === 1) {
    td.classList.add("filled");
  } else if (board[r][c] === 2) {
    td.classList.add("cross");
    td.textContent = "X";
  }
}

// 정답 확인
function checkAnswer() {
  for (let r = 0; r < size; r++) {
    for (let c = 0; c < size; c++) {
      if ((solution[r][c] === 1 && board[r][c] !== 1) ||
          (solution[r][c] === 0 && board[r][c] === 1)) {
        document.getElementById("status").textContent = "상태: 오답 ❌";
        return;
      }
    }
  }
  document.getElementById("status").textContent = "상태: 정답 ✅";
}

// 새 게임
function newGame() {
  solution = solutions[Math.floor(Math.random() * solutions.length)];
  buildBoard();
  document.getElementById("status").textContent = "상태: 새 게임 시작";
}

newGame();
</script>
</body>
</html>
